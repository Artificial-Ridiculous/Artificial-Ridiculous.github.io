---
layout: post
title:  "pythonå¤ä¹ "
date:   2021-01-01 15:19:00 +0800
category: python
---

è¯•å·ç¼–å·ï¼š499
æ‰€å±è¯­è¨€ï¼šPython
è¯•å·æ–¹æ¡ˆï¼šæ¨¡æ‹Ÿè€ƒ-Python
è¯•å·æ€»åˆ†ï¼š100åˆ†
å…±æœ‰é¢˜å‹ï¼š4ç§


ä¸€ã€å•é€‰   å…±5é¢˜ ï¼ˆå…±è®¡20åˆ†ï¼‰
ç¬¬1é¢˜ ï¼ˆ4.0åˆ†ï¼‰        é¢˜å·:1129        éš¾åº¦:ä¸­        ç¬¬4ç« 
ä»¥ä¸‹æœ‰å…³åˆ‡ç‰‡æè¿°æ­£ç¡®çš„æ˜¯å“ªå‡ é¡¹?
1)        èƒ½å¯¹rangeè¿›è¡Œåˆ‡ç‰‡
2)        èƒ½å¯¹åˆ‡ç‰‡å†æ¬¡è¿›è¡Œåˆ‡ç‰‡
3)        èƒ½å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡
4)        èƒ½å¯¹å­—å…¸è¿›è¡Œåˆ‡ç‰‡
5)        èƒ½å¯¹é›†åˆè¿›è¡Œåˆ‡ç‰‡
A:4,5

B:1,3,5

C:1,2,3

D:2,4,5

ç­”æ¡ˆï¼šC
```python
>>> range(1,7)[2:6]
range(3, 7)

>>> range(1,7)[2:6][3:5]
range(6, 7)

>>> 'cathy'[2:3]
't'

>>> {'é©¬äº‘':'Jack Ma','é©¬åŒ–è…¾':'Pony Ma'}[1:2]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unhashable type: 'slice'

>>> {1,2,3,4,5}[2:4]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'set' object is not subscriptable
```
---

ç¬¬2é¢˜ ï¼ˆ4.0åˆ†ï¼‰        é¢˜å·:1130        éš¾åº¦:ä¸­        ç¬¬4ç« 
`vec=[[7,8,9],[4,5,6],[1,2,3]],[a for b in vec for a in b]`ç”Ÿæˆçš„åˆ—è¡¨ä¸ºï¼š
A:`[1,2,3,4,5,6,7,8,9]`
B:`[[7,4,1],[8,5,2],[9,6,3]]`
C:`[7,8,9,4,5,6,1,2,3]`
D:`[[7,8,9,4,5,6,1,2,3]]`

ç­”æ¡ˆï¼šC
```python
>>> vec=[[7,8,9],[4,5,6],[1,2,3]]
>>> [a for b in vec for a in b]
[7, 8, 9, 4, 5, 6, 1, 2, 3]
# åˆ—è¡¨ç”Ÿæˆå¼
# [å«xçš„è¡¨è¾¾å¼ for x in åˆ—è¡¨]
```
---

ç¬¬3é¢˜ ï¼ˆ4.0åˆ†ï¼‰        é¢˜å·:1131        éš¾åº¦:ä¸­        ç¬¬4ç« 
æ­£åˆ™è¡¨è¾¾å¼ `^[a-z]{2}([a-zA-Z0-9]){4,15}(00)$` åŒ¹é…çš„å­—ç¬¦ä¸²å“ªä¸€ä¸ªè¯´æ³•æ˜¯æ­£ç¡®çš„

A:å­—ç¬¦ä¸²çš„æ€»é•¿åº¦ä¸º`4`ï½`15`

B:å­—ç¬¦ä¸²å¯ä»¥ä»¥ä¸¤ä¸ªå¤§å†™è‹±æ–‡å­—æ¯å¼€å§‹

C:å­—ç¬¦ä¸²ä¸­å¯ä»¥å‡ºç°å­—ç¬¦`$`

D:å­—ç¬¦ä¸²å¿…é¡»ä»¥æ•°å­—`00`ç»“æŸ

ç­”æ¡ˆï¼šD

[æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯•](https://regex101.com/)

```python
# ^ä»£è¡¨å¼€å¤´ï¼Œä¹Ÿå°±æ˜¯å‰é¢ä¸èƒ½æœ‰ä»»ä½•å…¶ä½™çš„å­—ç¬¦
# $ä»£è¡¨ç»“å°¾ï¼Œä¹Ÿå°±æ˜¯åé¢ä¸èƒ½æœ‰ä»»ä½•å…¶ä½™çš„å­—ç¬¦
# [a-z]{2}ä»£è¡¨ç²¾ç¡®çš„2ä¸ªè‹±æ–‡å°å†™å­—æ¯
# ([a-zA-Z0-9]){4,15}ä»£è¡¨4~15ä¸ª[å¤§å°å†™å­—æ¯æˆ–æ•°å­—]çš„ç»„åˆ
# æœ«å°¾çš„(00)$ä»£è¡¨å¿…é¡»è¦æœ‰2ä¸ª0è€Œä¸”åˆ°æ­¤ç»“æŸï¼Œåé¢ä¸å…è®¸è¿˜æœ‰åˆ«çš„å­—ç¬¦
```
---
ç¬¬4é¢˜ ï¼ˆ4.0åˆ†ï¼‰        é¢˜å·:1132        éš¾åº¦:ä¸­        ç¬¬4ç« 
å…³äºä»¥ä¸‹ä»£ç ï¼Œæè¿°é”™è¯¯çš„æ˜¯ï¼š
```python
with open('abc.txt','r+') as f:
        lines = f.readlines()
for item in lines:
        print(item)
```
A:ä»£ç åŠŸèƒ½æ˜¯æ‰“å°è¾“å‡ºabc.txtæ–‡ä»¶å†…å®¹
B:å˜é‡itemæ˜¯å­—ç¬¦ä¸²ç±»å‹å¯¹è±¡
C:ä»£ç ä¸­åº”è°ƒç”¨f.closeï¼ˆï¼‰ä»¥å…³é—­æ–‡ä»¶
D:å˜é‡linesæ˜¯åˆ—è¡¨ç±»å‹å¯¹è±¡

ç­”æ¡ˆï¼šC
```python
with open('abc.txt','r+') as f:
# å¦‚æœæ²¡ç”¨withï¼Œåªæ˜¯å•çº¯çš„ç”¨opené‚£ä¹ˆçš„ç¡®éœ€è¦close
# ä½†å¦‚æœç”¨äº†withï¼Œpythonä¼šè‡ªåŠ¨è°ƒç”¨close()
lines = f.readlines()
# è¿™å¥å°†fä¹Ÿå°±æ˜¯abc.txtæ–‡é—´ä¸€è¡Œè¡Œè¯»è¿›æ¥ï¼Œæ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ”¾è¿›åä¸ºlinesåˆ—è¡¨ä¸­
for item in lines:
# è¿™å¥å†™äº†ä¸€ä¸ªforå¾ªç¯ï¼Œéå†linesä¸­çš„æ¯ä¸ªå…ƒç´ 
# ä¹Ÿå°±æ˜¯abc.txtä¸­çš„æ¯ä¸€è¡Œ
# æ‰€ä»¥æ¯æ¬¡å¾ªç¯ä¸­itemå°±æ˜¯abc.txtçš„æ¯ä¸€è¡Œï¼ˆå­—ç¬¦ä¸²ï¼‰
```
---
ç¬¬5é¢˜ ï¼ˆ4.0åˆ†ï¼‰        é¢˜å·:1133        éš¾åº¦:ä¸­        ç¬¬4ç« 
å¯¹äºPythonæ¥è¯´ï¼Œä¸‹åˆ—é€‰é¡¹ä¸­æè¿°æ­£ç¡®çš„æ˜¯ï¼šï¼ˆ ï¼‰
A:å½“å°è¯•è®¿é—®ä¸€ä¸ªæ²¡æœ‰ç”³æ˜çš„å˜é‡æ—¶ï¼Œä¸€å®šä¸ä¼šå¼•å‘NameErrorå¼‚å¸¸
B:å½“å°è¯•è®¿é—®ä¸€ä¸ªæ²¡æœ‰ç”³æ˜çš„å˜é‡æ—¶ï¼Œå¯èƒ½ä¼šå¼•å‘NameErrorå¼‚å¸¸
C:å½“å°è¯•è®¿é—®ä¸€ä¸ªæ²¡æœ‰ç”³æ˜çš„å˜é‡æ—¶ï¼Œä¸€å®šä¸ä¼šå¼•å‘å¼‚å¸¸
D:ä»¥ä¸Šéƒ½ä¸æ­£ç¡®

```python
>>> print(a) 
Traceback (most recent call last):   
  File "<stdin>", line 1, in <module>
NameError: name 'a' is not defined
# ä¸¤ä¸ªä¸€å®šï¼Œä¸€ä¸ªå¯èƒ½ğŸ˜‚ 
```

ç­”æ¡ˆï¼šB
--- 
äºŒã€ç¨‹åºå¡«ç©º   å…±1é¢˜ ï¼ˆå…±è®¡15åˆ†ï¼‰
ç¬¬1é¢˜ ï¼ˆ15.0åˆ†ï¼‰        é¢˜å·:60        éš¾åº¦:ä¸­        ç¬¬4ç« 


ã€ç¨‹åºå¡«ç©ºã€‘

é¢˜ç›®ï¼šå°†è‚¡ç¥¨æŒ‰ç…§è‚¡ç¥¨çš„ä»·æ ¼ä»é«˜åˆ°ä½è¾“å‡ºã€‚è¿è¡Œæ ·ä¾‹è§æ ·å¼ å›¾ç‰‡ã€‚
ç¨‹åºä¸­æœ‰ä¸‰å¤„ä»£ç ä¸å®Œæ•´ï¼Œè¯·å¡«å†™å®Œæ•´ã€‚

æ³¨æ„ï¼šé™¤è¦æ±‚å¡«ç©ºçš„ä½ç½®ä¹‹å¤–ï¼Œè¯·å‹¿æ”¹åŠ¨ç¨‹åºä¸­çš„å…¶ä»–å†…å®¹ã€‚

---
```python
def main():
    #è‚¡ç¥¨åç§°å­—ç¬¦ä¸²ï¼Œç”¨","åˆ†å‰²ï¼Œåç§°å‰åå¯èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼
    stocks=" ä¸­å›½è½¯ä»¶, é‡‘é¹°è‚¡ä»½ ,è´¢é€šè¯åˆ¸,ä¸­ç”µç”µæœº, ç”Ÿç›Šç§‘æŠ€,é€šç”¨è‚¡ä»½,  å¤§å”ç”µä¿¡, æ°¸åˆ›æ™ºèƒ½"

    #è‚¡ç¥¨ä»·æ ¼å­—ç¬¦ä¸²ï¼Œç”¨","åˆ†å‰²ï¼Œä»·æ ¼ä¸ä¸Šé¢è‚¡ç¥¨ä¸€ä¸€å¯¹åº”
    prices="50.41, 6.61, 10.91, 12.78, 13.33, 7.94, 12.91, 7.96"

    #**********SPACE**********
    stockList=[stock.strip() for stock in stocks.split(',') ]  # æ­¤è¡Œå¾…å¡«
    # [expression_with_x() for x in list] æ ‡å‡†çš„åˆ—è¡¨ç”Ÿæˆå¼
    # stocks.split(',')è¿”å›ä¸€ä¸ªæŒ‰é€—å·åˆ‡å‰²å¥½çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²
    # å°†ä¸Šè¿°åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²å…ƒç´ ä¸€ä¸ªä¸ªèµ‹ç»™stock
    # stock.strip()å»é™¤äº†stockå­—ç¬¦ä¸²å¤´å°¾çš„å¤šä½™ç©ºæ ¼

    #**********SPACE**********
    priceList=[float(price) for price in prices.split(',') ]  # æ­¤è¡Œå¾…å¡«
    # ä¸‹é¢ç”¨åˆ°äº†priceListï¼Œæ‰€ä»¥è‚¯å®šè¦åœ¨è¿™å¥ç”Ÿæˆä¸€ä¸ªpriceList
    # å¤§ä½“å’Œä¸Šè¿°æ–¹æ³•ä¸€ç›´ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsplit()ä¹Ÿå¥½strip()ä¹Ÿå¥½éƒ½æ˜¯æŒ‰ç…§å­—ç¬¦ä¸²å¤„ç†çš„
    # è€Œä¸”é¢˜ç›®ä¸­è¯´éœ€è¦æŒ‰ç…§ä»·æ ¼ä»é«˜åˆ°ä½è¾“å‡ºï¼Œæ‰€ä»¥éœ€è¦æ’åºï¼Œå­—ç¬¦ä¸²æ²¡åŠæ³•æ¯”è¾ƒé‡‘é¢å¤§å°
    # æ‰€ä»¥éœ€è¦è½¬æˆæ•°å€¼ç±»å‹ï¼Œè¿™é‡Œæ˜¯å°æ•°ï¼Œç”¨floatå’Œdoubleéƒ½å¯ä»¥
    # int(expr) str(expr) float(expr)ç­‰éƒ½å¯ä»¥å°†exprè½¬æ¢æˆç›¸åº”çš„ç±»å‹

    pairs=zip(priceList,stockList)

    #**********SPACE**********
    for item in sorted(pairs,reverse=True):  # æ­¤è¡Œå¾…å¡«
    # sorted()æ–¹æ³•è¿”å›ä¸€ä¸ªæ’å¥½åºçš„æ–°åˆ—è¡¨ï¼Œæ¥å—ä¸€ä¸ªå¯é€‰å‚æ•°reverseï¼Œä½†æ˜¯é»˜è®¤æ˜¯Falseï¼ˆä¹Ÿå°±æ˜¯ä»å°åˆ°å¤§ï¼‰
    # ä¸‹é¢ä¸€å¥ç”¨åˆ°item,æ‰€ä»¥è¿™é‡Œè‚¯å®šè¦ç”¨ä¸€ä¸ªforå¾ªç¯å–å‡ºä¸Šè¿°pairsä¸­çš„å…ƒç´ 
        print('{0[1]}({0[0]:.2f}å…ƒ)'.format(item))

if __name__ == '__main__':
    main()
```

ä¸‰ã€ç¨‹åºæ”¹é”™   å…±1é¢˜ ï¼ˆå…±è®¡15åˆ†ï¼‰
ç¬¬1é¢˜ ï¼ˆ15.0åˆ†ï¼‰        é¢˜å·:59        éš¾åº¦:ä¸­        ç¬¬4ç« 

ã€ç¨‹åºæ”¹é”™ã€‘

ä¸‹é¢çš„ç¨‹åºå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š

1. å‡½æ•°fç”¨äºæ£€æŸ¥æ‰€ä¼ é€’çš„å¤šè¡Œå­—ç¬¦ä¸²`text`ä¸­çš„æ¯è¡Œå†…å®¹æ˜¯å¦ä¸ºä¸€ä¸ªé­”æ³•æ•°ï¼Œå¦‚æœä¸ºé­”æ³•æ•°ï¼Œ
åˆ™è¾“å‡ºå…¶å¯¹åº”çš„è¡Œå·ï¼Œæå–å‡ºçš„å€™é€‰é­”æ³•æ•°ï¼Œä»¥åŠå…¶é­”æ³•å€¼ã€‚

2. å¦‚æœä¸€è¡Œçš„å†…å®¹ä¸­é™¤äº†ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€è¿å­—ç¬¦ã€é€—å·å¤–ï¼Œå‰©ä¸‹çš„å…¨éƒ¨éƒ½æ˜¯æ•°å­—ï¼Œåˆ™è¿™äº›æ•°
å­—ç»„åˆåœ¨ä¸€èµ·å°±æ˜¯è¯¥è¡Œæå–å‡ºçš„"å€™é€‰é­”æ³•æ•°"ã€‚
æ¯”å¦‚`456, 556 , 790`æå–åçš„å€™é€‰é­”æ³•æ•°ä¸º`456556790`

3. ä¸€ä¸ªå€™é€‰é­”æ³•æ•°æ˜¯å¦æ˜¯çœŸæ­£çš„é­”æ³•æ•°ï¼Œæ˜¯è¦åˆ¤æ–­å…¶é­”æ³•å€¼æ˜¯å¦ä¸ºå¥‡æ•°ã€‚é­”æ³•å€¼æŒ‰ç…§ä¸‹è¿°æ–¹æ³•
è®¡ç®—ï¼šè€ƒè™‘å€™é€‰é­”æ³•æ•°çš„å¥‡æ•°ä½æ•°å­—ä»¥åŠå…¶ç›¸é‚»çš„å¶æ•°ä½æ•°å­—ï¼Œå…¶ä¸­å¥‡æ•°ä½ä½œä¸ºåº•ï¼Œå¶æ•°ä½ä½œä¸º
å¹‚ï¼Œå¦‚æœå·²ç»æ˜¯æœ€åä¸€ä¸ªæ•°å­—ï¼Œåˆ™ç­‰åŒäºå¹‚ä¸º1ã€‚è¿™äº›å¹‚è¿ç®—çš„ç»“æœç›¸åŠ ï¼Œå„ä½æ•°å­—ä¹‹å’Œå°±æ˜¯å…¶"é­”æ³•å€¼"ã€‚
æ¯”å¦‚`456556790`çš„é­”æ³•å€¼çš„è®¡ç®—ï¼š
```python
4 ** 5 + 6 ** 5 + 5 ** 6 + 7 ** 9 + 0 ** 1 = 40378032
4 + 0 + 3 + 7 + 8 + 0 + 3 + 2 = 27
```

```python
import re

def f(text):
    sols = []
    lines = text.splitlines()

    #**********FOUND**********
    for lineno, line in range(len(lines)),lines:
    # for lineno, line in enumerate(lines, 1):
    # enumerate(sequence, [start=0])
    # ç”¨äºå°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡(å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–å­—ç¬¦ä¸²)ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼Œ
    # åŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨ for å¾ªç¯å½“ä¸­ã€‚
        normalized_line = re.sub('[\s,-]', '', line)
        # å°†lineä¸­çš„'\s'ã€','ã€'-'å…¨éƒ¨æ›¿æ¢å»æ‰ï¼Œ'\s'åŒ…æ‹¬æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦
        # >>> re.sub('[\s,-]', '', '456-556-778') 
        # '456556778'
        # >>> re.sub('[\s,-]', '', '456, 556 , 790') 
        # '456556790'
        if not normalized_line.isdigit():
        # å¦‚æœè¢«å¤„ç†åçš„normalized_lineä¸æ˜¯æ•°å­—
            continue
            # è·³è¿‡ï¼ˆä¸æ˜¯æ•°å­—æ›´ä¸å¯èƒ½æ˜¯å€™é€‰é­”æ³•æ•°ï¼‰
        # å¦‚æœæ¥åˆ°äº†è¿™é‡Œï¼Œè¯´æ˜æ²¡æœ‰è¢«è·³è¿‡ï¼Œæ˜¯ä¸€ä¸ªæ•°å­—
        total = 0
        for i in range(0, len(normalized_line), 2):
              #**********FOUND**********
            if i < len(normalized_line) :
            # æ”¹æˆif i < len(normalized_line)-1:
            # æ¯”å¦‚9ä½æ•°ï¼Œä¸‹æ ‡ä¸º8å…¶å®å°±æ˜¯æœ€åä¸€ä½äº†ï¼Œæ˜¯ä¸ªå•èº«ç‹—æ€•
                total += int(normalized_line[i]) ** int(normalized_line[i+1])
            else:
                total += int(normalized_line[i])

        total = sum(int(i) for i in str(total))
        # totalè½¬æ­£å­—ç¬¦ä¸²ï¼Œå–æ¯ä¸€ä½ï¼Œè½¬æˆintï¼Œç„¶åsum
        # >>> sum(int(i) for i in '32123')
        # 11
        # >>> (int(i) for i in '32123')    
        # <generator object <genexpr> at 0x000001FEAAB715C8>
        if total % 2:
            #**********FOUND**********
            sols = sols.append(lineno, total, normalized_line)
            # åº”æ”¹ä¸ºsols.append([lineno, total, normalized_line])
            # å› ä¸ºappendæ–¹æ³•ä¸€æ¬¡åªèƒ½æ·»åŠ ä¸€ä¸ªå…ƒç´ 
            # è¦å°†ä»–ä»¬ä½œä¸ºåˆ—è¡¨æ•´ä½“append
    for item in sols:
        print('[{:^3d}] {:3d} {}'.format(*item))

if __name__ == '__main__':
    text =  '''456-556-778
    456, 556 , 790
    ab 456
    45655679
    1234
    0
    '''
    f(text)
```

è°ƒç”¨å¦‚ä¸‹å‡½æ•°åçš„è¾“å‡ºç»“æœåº”è¯¥ä¸º:
```python
[ 1 ]  41 456556778
[ 2 ]  27 456556790
[ 4 ]  27 45655679
```

ç­”æ¡ˆï¼š
```python
=======(ç­”æ¡ˆ1)=======
for lineno, line in enumerate(lines, 1):

=======(ç­”æ¡ˆ2)=======
if i < len(normalized_line) - 1:
=========æˆ–=========
if i + 1 < len(normalized_line):

=======(ç­”æ¡ˆ3)=======
sols.append((lineno, total, normalized_line))
=========æˆ–=========
sols.append([lineno, total, normalized_line])
```
---

å››ã€ç¨‹åºè®¾è®¡   å…±2é¢˜ ï¼ˆå…±è®¡50åˆ†ï¼‰

ç¬¬1é¢˜ ï¼ˆ25.0åˆ†ï¼‰        é¢˜å·:88        éš¾åº¦:ä¸­        ç¬¬4ç« 

ã€ç¨‹åºè®¾è®¡ã€‘

 
é¢˜ç›®ï¼šæ¨¡æ‹ŸæŠ¢çº¢åŒ…ã€‚è¾“å…¥æ•°æ®æ˜¯ä¸€è¡Œï¼Œå«æœ‰ä¸€ä¸ªæµ®ç‚¹æ•°å’Œä¸€ä¸ªæ•´æ•°ï¼Œ
åˆ†åˆ«è¡¨ç¤ºçº¢åŒ…æ€»é‡‘é¢amountå’Œæ•°é‡nã€‚è¾“å‡ºnä¸ªæµ®ç‚¹æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º
æ¯ä¸ªäººæŠ¢åˆ°çš„é‡‘é¢ï¼ˆè‡³å°‘0.01ï¼‰ï¼Œä¸”æ€»å’Œå¿…é¡»ç­‰äºamountã€‚
å‡å®šç”¨æˆ·çš„é”®ç›˜è¾“å…¥æ²¡æœ‰é”™è¯¯ï¼Œç¨‹åºæ— éœ€å¯¹å…¶è¿›è¡Œé”™è¯¯å¤„ç†ã€‚
æç¤ºï¼šä½¿ç”¨random.randint(a,b)å¯ä»¥å¾—åˆ°æ•´æ•°aåˆ°bä¹‹é—´çš„ä¸€ä¸ª
éšæœºæ•´æ•°ï¼ˆåŒ…å«aå’Œbï¼‰ã€‚

æ³¨æ„ï¼šä»…åœ¨æ³¨é‡Šæ ‡å¿—ä¹‹é—´å¡«å…¥æ‰€ç¼–å†™çš„è‹¥å¹²è¯­å¥ï¼Œè¯·å‹¿æ”¹åŠ¨å…¶ä½™éƒ¨åˆ†ã€‚

---

```python
import random

def dispatch(amount, n):
    """å‡½æ•°å‚æ•°ä¸ºçº¢åŒ…æ€»é‡‘é¢amountå’Œæ•°é‡nã€‚
    è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«nä¸ªæµ®ç‚¹æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªäººæŠ¢åˆ°çš„é‡‘é¢
    ï¼ˆè‡³å°‘0.01ï¼‰ï¼Œä¸”æ€»å’Œå¿…é¡»ç­‰äºamountã€‚"""
    #**********Program**********
    a=[]
    amount-=0.01*n
    #ä¸ºæ¯äººé¢„ç•™1åˆ†é’±
    for i in range(n-1):
    # åªç”¨roll n-1 æ¬¡ï¼Œæœ€åä¸€ä¸ªäººæ‹¿å‰©ä¸‹çš„å³å¯
        t=random.randint(1,int(100*amount))/100
        # å› ä¸ºå‡½æ•°åªèƒ½éšæœºå‡ºæ•´æ•°ï¼Œä½†æ˜¯é‡‘é¢å‡å»å‡ åˆ†é’±ä¹‹åæ˜¯å«å°æ•°ç‚¹çš„
        # æ‰€ä»¥åªèƒ½å˜é€šåˆ°å…ˆæŠŠé‡‘é¢ä¹˜ä»¥100å˜æˆæ•´æ•°ï¼Œåœ¨æ•´æ•°ç§éšæœº
        # éšæœºå®Œäº†å†é™¤ä»¥100ä¾¿ä¼šåŸæ¥çš„å°æ•°æ¨¡å¼
        a.append(t+0.01)
        amount-=t
    a.append(amount+0.01)
    # æœ€åå‰©ä¸‹çš„é’±æ˜¯æœ€åä¸€ä¸ªäººçš„ï¼Œä¸ç”¨ä»æ–°rollä¸€æ¬¡
    return a
    #**********  End  **********

    #**********Program**********
    # è¿™æ ·å¯èƒ½ç»•çš„å¼¯å°‘ç‚¹
    a=[]
    amount *= 100
    amount -= n
    #ä¸ºæ¯äººé¢„ç•™1åˆ†é’±
    for i in range(n-1):
    # åªç”¨roll n-1 æ¬¡ï¼Œæœ€åä¸€ä¸ªäººæ‹¿å‰©ä¸‹çš„å³å¯
        t=random.randint(1,amount)
        a.append((t+1)/100)
        amount-=t
    a.append((amount+1)/100)
    # æœ€åå‰©ä¸‹çš„é’±æ˜¯æœ€åä¸€ä¸ªäººçš„ï¼Œä¸ç”¨ä»æ–°rollä¸€æ¬¡
    return a
    #**********  End  **********
amount=float(input('è¯·è¾“å…¥çº¢åŒ…æ€»é‡‘é¢ï¼š'))
n=int(input('è¯·è¾“å…¥çº¢åŒ…æ•°é‡ï¼š'))
answer=dispatch(amount, n)
for x in answer:
    print('%.2f'%x, end=' ')

```

---

ç¬¬2é¢˜ ï¼ˆ25.0åˆ†ï¼‰        é¢˜å·:87        éš¾åº¦:ä¸­        ç¬¬4ç« 

æœ¬é¢˜ç»Ÿè®¡ç”µå½±ä¿¡æ¯ã€‚ç»Ÿè®¡è¿‡ç¨‹åˆ†è§£ä¸ºå¤šä¸ªæ­¥éª¤ï¼Œè¦æ±‚å®ç°å¦‚ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š

1) å‡½æ•°`construct_movies_by_director(data_list)`
å‚æ•°`data_list`æ˜¯ä¸€ä¸ªæ¯ä¸ªå…ƒç´ å½¢å¦‚"(å¹´ä»½ï¼Œç”µå½±åï¼Œç¥¨æˆ¿ï¼Œå¯¼æ¼”)"å…ƒç»„çš„åˆ—è¡¨ï¼Œè§ä»£ç ä¸­çš„`data_list`å¯¹è±¡ã€‚å‡½æ•°å¤„ç†
ä¼ å…¥çš„åˆ—è¡¨å¯¹è±¡`data_list`ï¼Œå¾—åˆ°å¹¶è¿”å›ä¸€ä¸ªå­—å…¸ã€‚è¿”å›çš„å­—å…¸ï¼Œkeyæ˜¯å¯¼æ¼”ï¼Œvalueæ˜¯æ¯é¡¹å½¢å¦‚"(å¹´ä»½ï¼Œç”µå½±åï¼Œç¥¨æˆ¿)"
å…ƒç»„çš„ç”µå½±ä¿¡æ¯åˆ—è¡¨ã€‚åœ¨å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåŒæ ·çš„ç”µå½±ä¿¡æ¯å‡ºç°å¤šæ¬¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸`"é‡å¤æ•°æ®"`ã€‚ä»£ç ä¸­çš„`data_list`åˆ—è¡¨
å¯¹è±¡åœ¨å¤„ç†åå¾—åˆ°çš„å­—å…¸å¦‚ä¸‹
```python
{'Ron Howard': [(2013, 'Rush', 26.9), (2001, 'A Beautiful Mind', 171.0)], 'Steve McQueen': [(2008, 'Hunger', 154.0)]}
```
2) å‡½æ•°`top_directors(movie_dict)`
å‚æ•°`movie_dict`ä¸ºè°ƒç”¨å‡½æ•°`construct_movies_by_director`è¿”å›çš„ç»“æœã€‚ç»å¤„ç†åè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶æ¯ä¸ªå…ƒç´ æ˜¯å½¢å¦‚
"(å¯¼æ¼”ï¼Œæ€»ç¥¨æˆ¿)"çš„å…ƒç»„ï¼Œå…¶ä¸­æ€»ç¥¨æˆ¿æ˜¯è¯¥å¯¼æ¼”æ‰€æœ‰æ‰§å¯¼ç”µå½±çš„ç¥¨æˆ¿ä¹‹å’Œã€‚ä¸”è¿”å›çš„åˆ—è¡¨æŒ‰æ€»ç¥¨æˆ¿ä»å¤§åˆ°å°çš„é¡ºåºæ’åºã€‚
ä¸Šé¢çš„å­—å…¸ï¼Œç»æœ¬å‡½æ•°å¤„ç†åè¿”å›çš„ç»“æœå¦‚ä¸‹
```pyhon
[('Ron Howard', 197.9), ('Steve McQueen', 154.0)]
```
æ³¨æ„ï¼šä»…åœ¨æ³¨é‡Šæ ‡å¿—ä¹‹é—´å¡«å…¥æ‰€ç¼–å†™çš„è‹¥å¹²è¯­å¥ï¼Œè¯·å‹¿æ”¹åŠ¨å…¶ä½™éƒ¨åˆ†ã€‚

```python
data_list = [(2013, 'Rush', 26.9, 'Ron Howard'), (2001, 'A Beautiful Mind', 171, 'Ron Howard'), (2008, 'Hunger', 154, 'Steve McQueen')]

#**********Program**********

def construct_movies_by_director(data_list):
    movies = {}
    # {key1:value1,key2:value2,...}æ˜¯ä¸€ä¸ªå­—å…¸
    # æ­¤å¤„å…ˆå£°æ˜ä¸€ä¸ªç©ºå­—å…¸
    for line in data_list:
        title, director = line[1], line[-1]
        # ä¸‹æ ‡-1ä»£è¡¨å€’æ•°ç¬¬ä¸€ä¸ª
        # æ³¨æ„ä¸‹æ ‡ä»0å¼€å§‹
        year, box_office = int(line[0]), float(line[2])

        if director not in movies:
            movies[director] = []
        if (year, title, box_office) in movies[director]:
            raise Exception("é‡å¤æ•°æ®:{}".format(title))
        movies[director] += [(year, title, box_office)]
    return movies

def top_directors(movie_dict):
    directors = []
    for director, lst in movie_dict.items():
        total = 0;
        for _, _, box_office in lst:
            total += box_office
        directors.append( (director, total) )
    return directors

#**********  End  **********

if __name__ == '__main__':
    try:
        movie_dict = construct_movies_by_director(data_list)
        sorted_list = top_directors(movie_dict)
        print(sorted_list)
    except Exception as e:
        print(e)
```
